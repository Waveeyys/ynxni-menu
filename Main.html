<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', monospace;
        }
        
        body {
            background: #000000;
            color: #ffffff;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
            padding: 20px;
        }
        
        .menu-container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .main-category {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #ffffff;
        }
        
        .subcategory-title {
            font-size: 20px;
            font-weight: bold;
            margin: 20px 0 10px 0;
            color: #ffffff;
            border-bottom: 1px solid #333;
            padding-bottom: 5px;
        }
        
        .menu-item {
            font-size: 16px;
            margin: 5px 0;
            padding-left: 20px;
            color: #cccccc;
        }
        
        .menu-item.selected {
            background: #333333;
            color: #ffffff;
        }
        
        .sub-item {
            font-size: 14px;
            margin: 3px 0;
            padding-left: 40px;
            color: #999999;
        }
        
        .sub-item.selected {
            background: #444444;
            color: #ffffff;
        }
        
        .instructions {
            position: fixed;
            bottom: 20px;
            left: 20px;
            font-size: 12px;
            color: #666666;
        }
    </style>
</head>
<body>
    <div class="menu-container">
        <div class="main-category selected">Local</div>
        <div class="main-category">Online</div>
        <div class="main-category">Spawn</div>
        
        <div class="subcategory-title">Player Options</div>
        
        <div class="menu-item">Vehicle Options</div>
        <div class="menu-item">Model Changer</div>
        <div class="menu-item">Outfits</div>
        <div class="menu-item">Outfitter</div>
        <div class="menu-item">Animations</div>
        <div class="menu-item">PTFX</div>
        <div class="menu-item">Teleport</div>
        <div class="menu-item">Aim Assist</div>
        <div class="menu-item">Weapons</div>
        <div class="menu-item">Weather and Time</div>
        <div class="menu-item">Scripts</div>
    </div>
    
    <div class="instructions">
        ARROW KEYS: Navigate | ENTER: Select | BACKSPACE: Back
    </div>

    <script>
        let currentSection = 'main'; // 'main' or 'player'
        let mainSelection = 0;
        let playerSelection = 0;
        const mainCategories = ['local', 'online', 'spawn'];
        
        function updateSelection() {
            // Update main categories
            document.querySelectorAll('.main-category').forEach((item, index) => {
                item.classList.toggle('selected', index === mainSelection && currentSection === 'main');
            });
            
            // Update player options
            document.querySelectorAll('.menu-item').forEach((item, index) => {
                item.classList.toggle('selected', index === playerSelection && currentSection === 'player');
            });
        }
        
        function sendMessage(type, data) {
            if (window.invokeNative) {
                window.invokeNative('sendMessage', JSON.stringify({ type, data }));
            }
        }
        
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case 'ArrowUp':
                    e.preventDefault();
                    if (currentSection === 'main') {
                        mainSelection = (mainSelection - 1 + mainCategories.length) % mainCategories.length;
                    } else {
                        playerSelection = (playerSelection - 1 + 11) % 11;
                    }
                    updateSelection();
                    sendMessage('navigate', { direction: 'up' });
                    break;
                    
                case 'ArrowDown':
                    e.preventDefault();
                    if (currentSection === 'main') {
                        if (mainSelection === 2) { // If on "Spawn", go to Player Options
                            currentSection = 'player';
                            playerSelection = 0;
                        } else {
                            mainSelection = (mainSelection + 1) % mainCategories.length;
                        }
                    } else {
                        playerSelection = (playerSelection + 1) % 11;
                    }
                    updateSelection();
                    sendMessage('navigate', { direction: 'down' });
                    break;
                    
                case 'Enter':
                    e.preventDefault();
                    if (currentSection === 'main') {
                        sendMessage('select', { category: mainCategories[mainSelection] });
                    } else {
                        const options = [
                            'vehicle', 'model', 'outfits', 'outfitter', 'animations', 
                            'ptfx', 'teleport', 'aim', 'weapons', 'weather', 'scripts'
                        ];
                        sendMessage('select', { option: options[playerSelection] });
                    }
                    break;
                    
                case 'Backspace':
                    e.preventDefault();
                    if (currentSection === 'player') {
                        currentSection = 'main';
                        mainSelection = 2; // Go back to "Spawn"
                    } else {
                        sendMessage('back', {});
                    }
                    updateSelection();
                    break;
            }
        });
        
        // Handle messages from Lua
        window.addEventListener('message', (event) => {
            const data = event.data;
            if (data.type === 'toggleMenu') {
                document.body.style.display = data.data.visible ? 'block' : 'none';
                if (data.data.visible) {
                    // Reset selection when menu opens
                    currentSection = 'main';
                    mainSelection = 0;
                    playerSelection = 0;
                    updateSelection();
                }
            }
        });
        
        updateSelection();
    </script>
</body>
</html>
